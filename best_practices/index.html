
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../sharing_images/">
      
      
        <link rel="next" href="../troubleshooting/permission_handling/">
      
      
      <link rel="icon" href="../assets/comfy_env_manager-min.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Best Practices - ComfyDock Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#best-practices" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ComfyDock Docs" class="md-header__button md-logo" aria-label="ComfyDock Docs" data-md-component="logo">
      
  <img src="../assets/comfy_env_manager-min.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ComfyDock Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Best Practices
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ComfyDock/ComfyDock-Docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ComfyDock Docs" class="md-nav__button md-logo" aria-label="ComfyDock Docs" data-md-component="logo">
      
  <img src="../assets/comfy_env_manager-min.png" alt="logo">

    </a>
    ComfyDock Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ComfyDock/ComfyDock-Docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../environments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Working with Environments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sharing_images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sharing Images
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Best Practices
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Best Practices
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#windows-and-wsl" class="md-nav__link">
    <span class="md-ellipsis">
      Windows and WSL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Windows and WSL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-wsl" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up WSL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-wsl-config" class="md-nav__link">
    <span class="md-ellipsis">
      Configure WSL Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-models-in-wsl" class="md-nav__link">
    <span class="md-ellipsis">
      Saving Models in WSL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-permission-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Automatic Permission Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Automatic Permission Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      How It Works
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Default Behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-permission-fix" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Permission Fix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-permission-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Customizing Permission Behavior
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#editing-files-in-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Editing Files in Containers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Editing Files in Containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#where-comfyui-is-stored" class="md-nav__link">
    <span class="md-ellipsis">
      Where ComfyUI is stored
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-edit-files" class="md-nav__link">
    <span class="md-ellipsis">
      How to Edit Files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/permission_handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Permission Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/slow_model_loading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slow Model Loading
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/edit_files_in_container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Edit Files in the Container
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/add_more_ram_to_wsl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Give WSL More RAM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/filepath_permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Filepath & Permissions Issues
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/installing_custom_nodes_manually/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installing Custom Nodes Manually
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/other/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Issues
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about_author/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About the Author
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#windows-and-wsl" class="md-nav__link">
    <span class="md-ellipsis">
      Windows and WSL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Windows and WSL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-wsl" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up WSL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-wsl-config" class="md-nav__link">
    <span class="md-ellipsis">
      Configure WSL Config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-models-in-wsl" class="md-nav__link">
    <span class="md-ellipsis">
      Saving Models in WSL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-permission-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Automatic Permission Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Automatic Permission Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      How It Works
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Default Behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-permission-fix" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Permission Fix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-permission-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Customizing Permission Behavior
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#editing-files-in-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Editing Files in Containers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Editing Files in Containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#where-comfyui-is-stored" class="md-nav__link">
    <span class="md-ellipsis">
      Where ComfyUI is stored
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-edit-files" class="md-nav__link">
    <span class="md-ellipsis">
      How to Edit Files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h1>
<h2 id="windows-and-wsl">Windows and WSL<a class="headerlink" href="#windows-and-wsl" title="Permanent link">&para;</a></h2>
<p>ComfyDock is designed to work seamlessly with WSL (Windows Subsystem for Linux). This allows you to run Dockerized ComfyUI environments with better performance than you’d typically see when storing everything on a Windows drive. Below are some recommended steps and tips for setting up WSL, configuring it, and saving your models in WSL to reduce loading times.</p>
<h3 id="setting-up-wsl">Setting up WSL<a class="headerlink" href="#setting-up-wsl" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Install WSL</strong></p>
<ul>
<li>
<p>On Windows 10/11, open PowerShell as Administrator and run:</p>
<p><code>wsl --install -d Ubuntu</code></p>
</li>
<li>
<p>Alternatively, open the <strong>Microsoft Store</strong>, search for “Ubuntu” (or your preferred distro), and click <strong>Install</strong>.</p>
</li>
</ul>
</li>
<li>
<p><strong>Update WSL &amp; Packages</strong></p>
<ul>
<li>
<p>Once installed, open Ubuntu from the Start menu. Then run:</p>
<p><code>sudo apt-get update &amp;&amp; sudo apt-get upgrade -y</code></p>
</li>
</ul>
</li>
<li>
<p><strong>Check Your WSL Version</strong></p>
<ul>
<li>
<p>Ensure you’re using WSL2 for the best compatibility and performance:</p>
<p><code>wsl --set-version &lt;distro-name&gt; 2</code>
Replace <distro-name> with the name of your distro (e.g. Ubuntu).</p>
</li>
</ul>
</li>
<li>
<p><strong>Install Docker Desktop</strong></p>
<ul>
<li>Install Docker Desktop for Windows, enable “Use the WSL 2 based engine” in the Docker settings, and integrate it with your Ubuntu distro.</li>
</ul>
</li>
</ol>
<h3 id="configure-wsl-config">Configure WSL Config<a class="headerlink" href="#configure-wsl-config" title="Permanent link">&para;</a></h3>
<p>If you plan on running resource-heavy tasks (e.g., large model inference) in WSL, it’s best to grant WSL more CPU cores and RAM. You can do this by creating or editing the .wslconfig file in your Windows home directory (%USERPROFILE%):</p>
<div class="codehilite"><pre><span></span><code><span class="k">[wsl2]</span>
<span class="na">memory</span><span class="o">=</span><span class="s">8GB</span><span class="w">       </span><span class="c1"># Adjust as needed</span>
<span class="na">processors</span><span class="o">=</span><span class="s">4</span><span class="w">     </span><span class="c1"># Number of CPU cores to allocate</span>
</code></pre></div>

<ol>
<li>
<p><strong>Locate Home Directory</strong></p>
<p>In File Explorer, go to <code>%USERPROFILE%</code>.</p>
</li>
<li>
<p><strong>Check if .wslconfig Exists</strong></p>
<ul>
<li>If it doesn’t, create a new text file named <code>.wslconfig</code>.</li>
</ul>
</li>
<li>
<p><strong>Restart WSL</strong></p>
</li>
</ol>
<div class="codehilite"><pre><span></span><code>wsl --shutdown
wsl
</code></pre></div>

<ol>
<li>
<p><strong>Verify Changes</strong></p>
<p>Inside WSL:</p>
</li>
</ol>
<div class="codehilite"><pre><span></span><code>htop
# or
cat /proc/meminfo
</code></pre></div>

<p>Confirm you see the updated RAM/CPU limits.</p>
<h3 id="saving-models-in-wsl">Saving Models in WSL<a class="headerlink" href="#saving-models-in-wsl" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Performance Gains</strong>: Storing model checkpoints inside the WSL filesystem significantly reduces load times compared to storing them on a Windows (C:, D:, etc.) drive.</p>
</li>
<li>
<p><strong>Folder Paths</strong>: You might store your models at <code>/home/&lt;username&gt;/ComfyUI/models.</code></p>
</li>
<li>
<p><strong>Access WSL from Windows Explorer:</strong></p>
</li>
</ul>
<div class="codehilite"><pre><span></span><code>\\wsl.localhost\&lt;distro-name&gt;\home\&lt;username&gt;\ComfyUI\models
</code></pre></div>

<p>Replace <code>&lt;distro-name&gt;</code> with your actual distro name (e.g., Ubuntu).</p>
<p><strong>Why Do This?</strong></p>
<p>Reading large models from Windows drives can cause slowdowns due to file system translations. Keeping models in WSL’s native file system lets Docker containers access them much faster.</p>
<hr />
<h2 id="automatic-permission-handling">Automatic Permission Handling<a class="headerlink" href="#automatic-permission-handling" title="Permanent link">&para;</a></h2>
<blockquote>
<p><strong>New in v1.1.0+</strong>: ComfyDock Docker images now include automatic permission checking and fixing tools.</p>
</blockquote>
<h3 id="how-it-works">How It Works<a class="headerlink" href="#how-it-works" title="Permanent link">&para;</a></h3>
<p>ComfyDock containers automatically check file permissions on startup to ensure the <code>comfy</code> user (UID 1000) can access all necessary files. This is especially helpful when:</p>
<ul>
<li>Using bind-mounted directories from your host system</li>
<li>Sharing model directories between multiple users</li>
<li>Working with files created by different users or processes</li>
</ul>
<h3 id="default-behavior">Default Behavior<a class="headerlink" href="#default-behavior" title="Permanent link">&para;</a></h3>
<p>By default, ComfyDock containers:</p>
<ol>
<li>Check permissions on all bind-mounted volumes and ComfyUI directories</li>
<li>Display a summary of any permission issues found</li>
<li>Suggest using the <code>fix-permissions</code> command if issues are detected</li>
<li>Continue running even if permission issues exist</li>
</ol>
<h3 id="quick-permission-fix">Quick Permission Fix<a class="headerlink" href="#quick-permission-fix" title="Permanent link">&para;</a></h3>
<p>If you encounter permission issues:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Access the running container</span>
<span class="n">comfydock</span><span class="w"> </span><span class="n">dev</span><span class="w"> </span><span class="n">exec</span>

<span class="c1"># Run the permission fix tool</span>
<span class="n">fix</span><span class="o">-</span><span class="n">permissions</span>
</code></pre></div>

<p>The tool will:</p>
<ul>
<li>Show all files and directories with permission issues</li>
<li>Ask for confirmation before making changes</li>
<li>Create an audit log of all modifications</li>
<li>Verify the fixes were successful</li>
</ul>
<h3 id="customizing-permission-behavior">Customizing Permission Behavior<a class="headerlink" href="#customizing-permission-behavior" title="Permanent link">&para;</a></h3>
<p>You can control permission handling with environment variables:</p>
<ul>
<li><code>PERMISSION_CHECK_MODE=once</code> - Only check permissions on first startup</li>
<li><code>PERMISSION_CHECK_MODE=never</code> - Disable automatic permission checking</li>
<li><code>STRICT_PERMISSIONS=true</code> - Prevent container startup if permission issues exist</li>
</ul>
<p>For more details, see the <a href="../troubleshooting/permission_handling/">Permission Handling</a> documentation.</p>
<hr />
<h2 id="editing-files-in-containers">Editing Files in Containers<a class="headerlink" href="#editing-files-in-containers" title="Permanent link">&para;</a></h2>
<p>Sometimes you'll need to modify or update files that live inside your Dockerized ComfyUI environment. Since many files are not necessarily mounted to the Windows host filesystem, you may need to access them directly within the container.</p>
<h3 id="where-comfyui-is-stored">Where ComfyUI is stored<a class="headerlink" href="#where-comfyui-is-stored" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>By default, when using ComfyDock, ComfyUI is installed to <code>/app/ComfyUI</code> inside the container.</p>
</li>
<li>
<p>If you created a WSL-based environment, you might also have a copy under <code>/home/&lt;username&gt;/ComfyUI</code> or wherever you specified during environment creation.</p>
</li>
</ul>
<h3 id="how-to-edit-files">How to Edit Files<a class="headerlink" href="#how-to-edit-files" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>ComfyDock Dev Exec (Recommended)</strong></p>
<p>The easiest way to access a running container is using the ComfyDock CLI:</p>
<p><code>bash
comfydock dev exec</code></p>
<p>This will list all running containers and let you select which one to access. You'll enter as the <strong>root user</strong>.</p>
<p><strong>⚠️ Important:</strong> Files created or modified as root may become inaccessible to the container's <code>comfy</code> user. Always fix permissions after making changes:</p>
<p>```bash</p>
<h1 id="for-single-files">For single files<a class="headerlink" href="#for-single-files" title="Permanent link">&para;</a></h1>
<p>chown comfy:comfy /path/to/file</p>
<h1 id="for-directories">For directories<a class="headerlink" href="#for-directories" title="Permanent link">&para;</a></h1>
<p>chown -R comfy:comfy /path/to/directory
```</p>
</li>
<li>
<p><strong>Docker Desktop Exec</strong></p>
<ul>
<li>
<p>Go to <strong>Docker Desktop</strong> → find the container for your ComfyUI environment.</p>
</li>
<li>
<p>Click the container → <strong>Exec</strong> tab → open a shell.</p>
</li>
<li>
<p>You can now browse or edit files via command-line text editors like <code>nano</code> or <code>vim</code>.</p>
</li>
</ul>
</li>
<li>
<p><strong>VSCode Dev Containers</strong></p>
<ul>
<li>
<p>Install the "Dev Containers" extension in VSCode.</p>
</li>
<li>
<p>Make sure your container is running, then press <strong>F1</strong> (Command Palette) → "Dev Containers: Attach to Running Container".</p>
</li>
<li>
<p>Select your container (not the <code>…-frontend</code> one).</p>
</li>
<li>
<p>Once attached, you can open a folder (<code>/app/ComfyUI</code>) in VSCode and edit files graphically.</p>
</li>
</ul>
</li>
</ol>
<h3 id="install-custom-nodes">Install Custom Nodes<a class="headerlink" href="#install-custom-nodes" title="Permanent link">&para;</a></h3>
<p>To install custom nodes inside the container:</p>
<ol>
<li>
<p><strong>Access the Container</strong>
    <code>comfydock dev exec
    # Select your running container</code></p>
</li>
<li>
<p><strong>Navigate to Custom Nodes Directory</strong>
    <code>cd /app/ComfyUI/custom_nodes</code></p>
</li>
<li>
<p><strong>Clone the Node Repo</strong></p>
</li>
</ol>
<div class="codehilite"><pre><span></span><code>git clone &lt;custom_node_repo&gt;
cd &lt;custom_node_directory&gt;
uv pip install -r requirements.txt
</code></pre></div>

<p>Replace <code>&lt;custom_node_repo&gt;</code> with the GitHub URL.</p>
<ol>
<li>
<p><strong>Fix Permissions (Important!)</strong></p>
<p>Since you cloned as root, fix the ownership:</p>
<p><code>bash
chown -R comfy:comfy /app/ComfyUI/custom_nodes/&lt;custom_node_directory&gt;</code></p>
</li>
<li>
<p><strong>(Optional) Reload ComfyUI</strong></p>
<ul>
<li>If ComfyUI was running in the container and you have <a href="https://github.com/logtd/ComfyUI-HotReloadHack">HotReloadHack</a> installed, it may automatically pick up the new custom node. Otherwise, restart ComfyUI.</li>
</ul>
</li>
</ol>
<h3 id="developing-in-containers">Developing in Containers<a class="headerlink" href="#developing-in-containers" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Attach with VSCode</strong></p>
<ul>
<li>This is the most convenient method for quickly editing and testing.</li>
</ul>
</li>
<li>
<p><strong>HotReloadHack</strong></p>
<ul>
<li>For faster iteration when writing or debugging custom nodes, consider installing the <a href="https://github.com/logtd/ComfyUI-HotReloadHack">HotReloadHack</a>. This lets ComfyUI detect changes without a full restart.</li>
</ul>
</li>
<li>
<p><strong>Environment Duplication</strong></p>
<ul>
<li>Before trying out new or experimental custom nodes, clone your environment via ComfyDock. If things break, you still have your original environment untouched.</li>
</ul>
</li>
<li>
<p><strong>Permission Management</strong></p>
<ul>
<li>With v1.1.0+ images, use the built-in fix-permissions command if you encounter issues after editing files as root.
For detailed instructions on editing files in containers, see the Edit Files in Container documentation.</li>
</ul>
</li>
</ol>
<hr />
<h2 id="additional-recommendations">Additional Recommendations<a class="headerlink" href="#additional-recommendations" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>Keep WSL &amp; Docker Updated</strong>: Out-of-date packages can lead to weird issues or mounting troubles.</p>
</li>
<li>
<p><strong>Watch Out for Permissions</strong>: If you see “Permission denied” errors, make sure you own the files inside WSL by running:</p>
</li>
</ul>
<div class="codehilite"><pre><span></span><code>sudo chown -R $USER:$USER /path/to/folder
chmod -R u+w /path/to/folder
</code></pre></div>

<ul>
<li>
<p><strong>Default+ Mode Issues</strong>: If the “Default+” environment creation mode fails to install certain custom nodes, consider creating a plain “Default” environment, installing your nodes one by one, then cloning that environment in the future.</p>
</li>
<li>
<p><strong>Sage-Attention Support</strong>: ComfyDock images v1.1.1+ include build-essential packages, ensuring packages like sage-attention that require compilation will work properly. Add the <code>--use-sage-attention</code> command on environment creation to use sage attention.</p>
</li>
</ul>
<hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>